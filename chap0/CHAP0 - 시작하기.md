# CHAP0 - 시작하기

## 0.1 최대와 최소

메크로 사용할때 조심해야할것

> \#define max(x,y) (x)>(y) ? (x) : (y)

이런식으로 정의했다고하고 만약,

> 2 * max(3,2)

이렇게 사용해버리면 위의 코드는 아래와 같이 변하게 된다.

> 2 *(3) > (2) ? (3) : (2)

이러면 결국 6 > 2 ? 3 : 2 이런식의 코드로 변하게되고 결국 의도치 않은 동작을 일으키게 된다. 이런버그는 찾기 매우 힘들것이다.

또, 메크로 함수의 인자는 여러번 평가되어 예상치 못한 결과가 발생할수도 있다.

> int i,j;
>
> i = 4;
>
> j=max(3,i++)

원래 함수라면 5,4가 나오겠지만, 메크로함수라면 이 코드는 아래와 같이 변한다.

> j=((3)>(i++) ? (3):(i++))

이렇게 변하므로 결국 i=6,j=5가 될것이다. 이렇게 메크로함수는 함수를 호출하는 시간이 없다는 점은 좋지만 메크로함수를 잘못 사용하면 의도치 않은 버그가 발생할수있다.

그러므로 꼭 필요할때만 메크로 함수를 사용하고 이외의 상황에는 보통함수를 사용하자.